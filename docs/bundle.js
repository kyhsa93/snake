var e={989:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BootScene=void 0;const i=o(913);class s extends Phaser.Scene{constructor(){super({key:s.name})}create(){this.add.rectangle(0,0,i.config.width,i.config.height,0,.8).setOrigin(0);const e=this.add.text(0,0,"Start Game",{fontSize:"32px",color:"#FFF"}).setOrigin(.5);e.setInteractive(),e.on("pointerdown",(()=>this.scene.start("GameScene"))),e.setPosition(i.config.width/2,i.config.height/2),this.cameras.main.centerOn(i.config.width/2,i.config.height/2)}}t.BootScene=s},502:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Food=void 0;const i=o(913);t.Food=class{constructor(e){this.scene=e,this.x=0,this.y=0,this.sprite=this.scene.add.rectangle(this.x,this.y,i.GRID_SIZE,i.GRID_SIZE,Phaser.Display.Color.RandomRGB().color32).setOrigin(0),this.randomize()}randomize(){const e=i.config.width/i.GRID_SIZE-1,t=i.config.height/i.GRID_SIZE-1;this.x=Math.floor(Math.random()*e)*i.GRID_SIZE,this.y=Math.floor(Math.random()*t)*i.GRID_SIZE,this.sprite.setFillStyle(Phaser.Display.Color.RandomRGB().color32),this.sprite.setPosition(this.x,this.y)}avoidOverlap(e){let t=!0;for(;t;)this.randomize(),t=e.body.some((e=>e.x===this.x&&e.y===this.y))}}},444:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameScene=void 0;const i=o(95),s=o(502),r=o(573),n=o(913);class h extends Phaser.Scene{constructor(){super({key:"GameScene"})}create(){var e;this.cameras.main.setBounds(0,0,n.config.width,n.config.height),this.snake=new i.Snake(this),this.food=new s.Food(this),this.cursors=null===(e=this.input.keyboard)||void 0===e?void 0:e.createCursorKeys(),this.scoreText=this.add.text(16,16,"Score: 0",{fontSize:"32px",color:"#FFF"}),this.cameras.main.setPosition((n.config.width-this.cameras.main.width)/2,(n.config.height-this.cameras.main.height)/2)}changeBackgroundColor(){const e=Phaser.Display.Color.RandomRGB().color32;this.cameras.main.setBackgroundColor(e)}update(e){var t;if(!(null===(t=this.snake)||void 0===t?void 0:t.alive))return;if(!this.cursors||!this.food)return;const{left:o,right:i,up:s,down:h}=this.cursors,{x:a,y:c}=this.snake.direction;Phaser.Input.Keyboard.JustDown(o)&&a!==n.GRID_SIZE?this.snake.direction=Phaser.Math.Vector2.LEFT:Phaser.Input.Keyboard.JustDown(i)&&a!==-n.GRID_SIZE?this.snake.direction=Phaser.Math.Vector2.RIGHT:Phaser.Input.Keyboard.JustDown(s)&&c!==n.GRID_SIZE?this.snake.direction=Phaser.Math.Vector2.UP:Phaser.Input.Keyboard.JustDown(h)&&c!==-n.GRID_SIZE&&(this.snake.direction=Phaser.Math.Vector2.DOWN),this.snake.update(e)&&this.snake.collideWithFood(this.food)&&(this.snake.grow(),this.food.avoidOverlap(this.snake),this.scoreText&&(0,r.updateScore)(this.scoreText,10),this.changeBackgroundColor())}}t.GameScene=h},95:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Snake=void 0;const i=o(913),s=o(573);t.Snake=class{constructor(e){this.scene=e,this.body=[],this.direction=Phaser.Math.Vector2.RIGHT,this.growAmount=0,this.moveDelay=150,this.lastMoveTime=0,this.alive=!0;const t=(0,s.snapToGrid)(i.config.width/2),o=(0,s.snapToGrid)(i.config.height/2),r=Phaser.Display.Color.RandomRGB().color32;for(let e=0;e<3;++e)this.body.push(this.scene.add.rectangle(t-e*i.GRID_SIZE,o,i.GRID_SIZE,i.GRID_SIZE,r).setOrigin(0))}update(e){return e>=this.lastMoveTime+this.moveDelay&&(this.lastMoveTime=e,this.move())}move(){const e=this.body[0],t=e.x+this.direction.x*i.GRID_SIZE,o=e.y+this.direction.y*i.GRID_SIZE;if(t<0||t>=i.config.width||o<0||o>=i.config.height)return this.alive=!1,!1;for(let e=this.body.length-1;e>0;--e)if(this.body[e].x===t&&this.body[e].y===o)return this.alive=!1,!1;const s=this.body.pop();if(!s)throw new Error("Snake has empty body");if(s.setPosition(t,o),this.body.unshift(s),this.growAmount>0){const e=Phaser.Display.Color.RandomRGB().color32;this.body.push(this.scene.add.rectangle(s.x,s.y,i.GRID_SIZE,i.GRID_SIZE,e).setOrigin(0)),this.growAmount--}return!0}grow(){this.growAmount+=1}collideWithFood(e){return this.body[0].x===e.x&&this.body[0].y===e.y}}},913:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GRID_SIZE=t.config=void 0;const i=o(989),s=o(444);t.config={type:Phaser.AUTO,width:800,height:600,backgroundColor:"#222222",scene:[i.BootScene,s.GameScene]},t.GRID_SIZE=16},573:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateScore=t.snapToGrid=void 0;const i=o(913);let s=0;t.snapToGrid=function(e){return Math.floor(e/i.GRID_SIZE)*i.GRID_SIZE},t.updateScore=function(e,t){s+=t,e.setText("Score: "+s)}}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,o),r.exports}(()=>{const e=o(913);new Phaser.Game(e.config)})();